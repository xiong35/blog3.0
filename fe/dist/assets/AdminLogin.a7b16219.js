import{p as t,d as n,a as r,c as e,w as o,v as s}from"./vendor.dcc053a3.js";import{s as a,r as i,c,a as u,b as f}from"./index.de41ee78.js";var p,l,g,v={exports:{}},x={exports:{}};l=t,g={bytesToHex:function(t){return function(t){return t.map((function(t){return n=t.toString(16),r=2,n.length>r?n:Array(r-n.length+1).join("0")+n;var n,r})).join("")}(t)},hexToBytes:function(t){if(t.length%2==1)throw new Error("hexToBytes can't have a string with an odd number of characters.");return 0===t.indexOf("0x")&&(t=t.slice(2)),t.match(/../g).map((function(t){return parseInt(t,16)}))}},(p=x).exports?p.exports=g:l.convertHex=g;var d={exports:{}};!function(n){!function(t){var r={bytesToString:function(t){return t.map((function(t){return String.fromCharCode(t)})).join("")},stringToBytes:function(t){return t.split("").map((function(t){return t.charCodeAt(0)}))}};r.UTF8={bytesToString:function(t){return decodeURIComponent(escape(r.bytesToString(t)))},stringToBytes:function(t){return r.stringToBytes(unescape(encodeURIComponent(t)))}},n.exports?n.exports=r:t.convertString=r}(t)}(d),function(n){!function(t){var r={};n.exports?(r.bytesToHex=x.exports.bytesToHex,r.convertString=d.exports,n.exports=a):(r.bytesToHex=t.convertHex.bytesToHex,r.convertString=t.convertString,t.sha256=a);var e=[];!function(){function t(t){for(var n=Math.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}for(var n,r=2,o=0;o<64;)t(r)&&(e[o]=4294967296*((n=Math.pow(r,1/3))-(0|n))|0,o++),r++}();var o=[],s=function(t,n,r){for(var s=t[0],a=t[1],i=t[2],c=t[3],u=t[4],f=t[5],p=t[6],l=t[7],g=0;g<64;g++){if(g<16)o[g]=0|n[r+g];else{var v=o[g-15],x=(v<<25|v>>>7)^(v<<14|v>>>18)^v>>>3,d=o[g-2],h=(d<<15|d>>>17)^(d<<13|d>>>19)^d>>>10;o[g]=x+o[g-7]+h+o[g-16]}var y=s&a^s&i^a&i,m=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),T=l+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&f^~u&p)+e[g]+o[g];l=p,p=f,f=u,u=c+T|0,c=i,i=a,a=s,s=T+(m+y)|0}t[0]=t[0]+s|0,t[1]=t[1]+a|0,t[2]=t[2]+i|0,t[3]=t[3]+c|0,t[4]=t[4]+u|0,t[5]=t[5]+f|0,t[6]=t[6]+p|0,t[7]=t[7]+l|0};function a(t,n){t.constructor===String&&(t=r.convertString.UTF8.stringToBytes(t));var e=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],o=function(t){for(var n=[],r=0,e=0;r<t.length;r++,e+=8)n[e>>>5]|=t[r]<<24-e%32;return n}(t),a=8*t.length;o[a>>5]|=128<<24-a%32,o[15+(a+64>>9<<4)]=a;for(var i=0;i<o.length;i+=16)s(e,o,i);var c=function(t){for(var n=[],r=0;r<32*t.length;r+=8)n.push(t[r>>>5]>>>24-r%32&255);return n}(e);return n&&n.asBytes?c:n&&n.asString?r.convertString.bytesToString(c):r.bytesToHex(c)}a.x2=function(t,n){return a(a(t,{asBytes:!0}),n)}}(t)}(v);var h=v.exports,y=Object.freeze(Object.assign(Object.create(null),v.exports,{[Symbol.toStringTag]:"Module",default:h}));var m=n({name:"AdminLogin",setup(t){const n=r("");async function p(){await async function(t){t&&a({value:y(t)});const n=await i({url:"/login",method:"GET"});console.log("# login",{res:n});const{msg:r}=n;return"ok"===r||(c(),!1)}(n.value)&&f.push({name:"admin-compose"})}return()=>e("div",{class:"pa-login"},[o(e("input",{type:"password",class:"pa-login_input",placeholder:"请输入密码","onUpdate:modelValue":t=>n.value=t},null),[[s,n.value]]),e(u,{content:"登录",onClick:p},null)])}});export{m as default};
